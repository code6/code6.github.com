
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>MayCoder</title>
  <meta name="author" content="Code6">

  
  <meta name="description" content="2012-03-09 最早是在lzyy的blog看到 使用github作为博客引擎, 后面在github上看到了 他的博客的源代码 , 顿时感觉很不错, 这样写blog大概有几个优点: markdown
可以使用惯用的markdown来写文章(比如我觉得 textile 跟 confluence &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://code6.github.com/blog/page/2">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="MayCoder" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-29800624-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">MayCoder</a></h1>
  
    <h2>Valarmorghulis</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:code6.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/03/09/octopress-setup/">Octopress Setup</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-03-09T08:10:00+08:00" pubdate data-updated="true">Mar 9<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p class="date">2012-03-09</p>
<p><img src="/images/octopress_logo.png"></p>
<p>最早是在lzyy的blog看到 <a href="http://blog.leezhong.com/tech/2010/08/25/make-github-as-blog-engine.html">使用github作为博客引擎</a>, 后面在github上看到了 <a href="https://github.com/lzyy/lzyy.github.com/blob/master/_posts/2010-08-25-make-github-as-blog-engine.textile">他的博客的源代码</a> , 顿时感觉很不错, 这样写blog大概有几个优点:</p>
<ul>
	<li><strong>markdown</strong><br />
可以使用惯用的markdown来写文章(比如我觉得 <a href="http://redcloth.org/textile">textile</a> 跟 <a href="http://www.atlassian.com/software/confluence/overview">confluence</a> 的编辑语法很像)</li>
	<li><strong>git &amp;&amp; githhub</strong><br />
使用git进行版本控制, 放在github上保存, 使用 <a href="http://pages.github.com/">github pages</a> 发布, 空间再不是写blog的障碍了:)</li>
</ul>
<p>经过约一周的围观与尝试= =, 差不多搞到可用了，剩下了就是加page, 搞插件，熟悉语法了。捣鼓过程无比心酸, 鉴于一个windows用户, 又不愿在windows上搞, 碰巧vmplayer中仅有一台别人配的centos, 于是开始捣鼓了。octopress 需要ruby, python(其中用到 <a href="https://github.com/halostatue/rubypython">rubypython</a> 似乎有依赖), git, ssl等一系列乱七八糟的东西, 按官方的说明去安装倒也无碍, 不过由于之前随意安装了一些低版本的东西, 往往会导致后面发现跑不起来, 于是也多了很多弯路, 总的来说, <strong>顺风顺水的话, 安装还是很容易的</strong>。</p>
<h3><strong>Octopress Setup</strong></h3>
<p>安装过程可以参考官方文档(参见附录), 这里结合我的环境(centos 5.7)复述一下, 后面再说说我遇到的囧问题。</p>

	<ul>
		<li><strong>git &amp;&amp; github</strong><br />
首先要有git, 为了在github上保存且发布, 要申请一个github账号并上传ssh key以支持push, 见 <a href="http://help.github.com/">github帮助</a> 。</li>
	</ul>
	<ul>
		<li><strong>创建ruby环境</strong><br />
octopress 需要 ruby 1.9.2, 用 <a href="https://github.com/wayneeseguin/rvm">rvm</a> 可以方便安装, 先安装rvm</li>
	</ul><p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>install rvm  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>bash -s stable &lt; &lt;<span class="o">(</span>curl -s https://raw.github.com/wayneeseguin/rvm/master/binscripts/rvm-installer<span class="o">)</span>
</span></code></pre></td></tr></table></div></figure></div></notextile></p>
<p>为了更方便使用rvm, 我们将其加入bash_profile中</p>
<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>add rvm to bash_profile  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">echo</span> <span class="s1">&#39;[[ -s &quot;$HOME/.rvm/scripts/rvm&quot; ]] &amp;&amp; . &quot;$HOME/.rvm/scripts/rvm&quot; # Load RVM function&#39;</span> &gt;&gt; ~/.bash_profile
</span><span class='line'><span class="nb">source</span> ~/.bash_profile
</span></code></pre></td></tr></table></div></figure></div></notextile></p>
<p>安装ruby 1.9.2 获取最新的 <a href="http://rubygems.org/">rubygems</a> , 并安装 <a href="http://gembundler.com/">bundler</a></p>
<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>install ruby  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rvm install 1.9.2 <span class="o">&amp;&amp;</span> rvm use 1.9.2
</span><span class='line'>rvm rubygems latest
</span><span class='line'>ruby --version  <span class="c"># Should report Ruby 1.9.2</span>
</span><span class='line'>gem install bundler
</span></code></pre></td></tr></table></div></figure></div></notextile></p>

	<ul>
		<li><strong>下载并安装octopress</strong></li>
	</ul><p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>install octopress  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git clone git://github.com/imathis/octopress.git octopress
</span><span class='line'><span class="nb">cd </span>octopress    <span class="c"># If you use RVM, You&#39;ll be asked if you trust the .rvmrc file (say yes).</span>
</span><span class='line'>bundle install  <span class="c">#install dependencies</span>
</span><span class='line'>rake install    <span class="c"># Install the default Octopress theme.</span>
</span></code></pre></td></tr></table></div></figure></div></notextile></p>
<p>上文中用到一个 <a href="http://rake.rubyforge.org/">rake</a> , 可以认为就是一种预先编好的 <strong>任务脚本</strong> , 观察文件夹中有一个 <code>Rakefile</code> 打开看看就大概猜了下。</p>
<p>到这一步基本在本机上已经安装好octopress了, 我们可以把它发布到Github上(当然你还可以部署到 <a href="http://octopress.org/docs/deploying/">其他地方</a> )。首先你得建一个以用户名命名的类似 <code>username.github.com</code> 的Repository。比如我的就是 <code>code6.github.com</code>, 然后设定Github Pages:</p>
<div>
<pre>
<code class='bash'>rake setup_github_pages</code>
</pre>
</div>
<p>之后会要求 <code>read/write url for repository</code> 。 <br />
将 <strong>git@github.com:yourname/yourname.github.com.git</strong> 替换成自己的即可。</p>

	<ul>
		<li><strong>建立和发布</strong></li>
	</ul><p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>deploy  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rake generate
</span><span class='line'>rake deploy
</span></code></pre></td></tr></table></div></figure></div></notextile></p>
<p>很简单吧, 两条命令就搞定了~, 接下来就可以浏览 <code>http://username.github.com</code><br />
这里我们是将生成的站点的静态文件发布到了 <code>username.github.com</code>这个仓库的master分支上, 但这并不包含我们的源文件。 这里我们可以将原始文件提交到source分支上</p>
<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>initial commit  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git add .
</span><span class='line'>git commit -m <span class="s1">&#39;initial source commit&#39;</span>
</span><span class='line'>git push origin <span class="nb">source</span>
</span></code></pre></td></tr></table></div></figure></div></notextile></p>

	<ul>
		<li><strong>目录结构</strong></li>
	</ul><p>到这里我们基本搞差不多了, 可以开展日常工作了，这里可以先熟悉相应的代码结构。<br />
这里主要的目录有 <code>source</code> , <code>public</code> , <code>_deploy</code> , 还有个全局配置文件 <code>_config.yml</code> 。<br />
其中<br />
<code>source</code> 为源文件目录, 我们写的文章就在 <code>source/_posts</code> 中, 当然还包括布局, 页面等好多东西<br />
<code>public</code> 为渲染后的静态blog目录<br />
<code>_deploy</code> 是用来需要部署的文件目录, 大概觉得是 <code>public</code> 的一份拷贝<br />
<code>_config.yml</code> 是全局的配置文件, 语法参考 <a href="http://www.ibm.com/developerworks/cn/xml/x-cn-yamlintro/">这里</a></p>
<p>这里插一个题外话, octopress是基于 <a href="https://github.com/mojombo/jekyll">Jekyll</a> 的, 最开始尝试时下载了jekyll, 由于前端方面的薄弱技能, handler不住, 于是才使用octopress的。最初还看了一个 <a href="https://github.com/plusjade/jekyll-bootstrap">jekyll-bootstrap</a> , 用起来也不麻烦，但猜测没有octopress强大这边的 <code>_config.yml</code> , <code>source</code> 都跟jekyll中的有关, 于是后面如果要捣鼓的话, 可以在那边多看看。 <code>source</code> 目录可以参考jekyll的相关 <a href="https://github.com/mojombo/jekyll/wiki/Usage">wiki</a> 。</p>

	<ul>
		<li><strong>日常任务</strong></li>
	</ul><p><strong>建立新文章</strong><br />
文章必须发表在 <code>source/_posts</code> 下，命名成 <code>YYYY-MM-DD-post-title.markdown</code> 的格式， 我们可以使用octopress的rake 任务来快速创建一篇新文章:</p>
<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>rake new post  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rake new_post<span class="o">[</span><span class="s2">&quot;Zombie Ninjas Attack: A survivor&#39;s retrospective&quot;</span><span class="o">]</span>
</span><span class='line'><span class="c"># Creates source/_posts/2011-07-03-zombie-ninjas-attack-a-survivors-retrospective.markdown</span>
</span></code></pre></td></tr></table></div></figure></div></notextile></p>
<p>默认的后缀是 <code>markdown</code> , 可以在 Rakefile中修改。通过此任务创建的文章会补上开头的 <a href="https://github.com/mojombo/jekyll/wiki/yaml-front-matter">元信息</a> 。<br />
接下来我们就可以用自己喜爱的编辑器来编辑了。</p>
<p><strong>建立页面</strong><br />
略</p>
<p><strong>生成与预览</strong><br />
当我们完成一篇文章的创作时，我们可以在本机预览我们的文章。</p>
<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>generate and preview  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rake generate   <span class="c"># Generates posts and pages into the public directory</span>
</span><span class='line'>rake preview    <span class="c"># Watches source/ and sass/ for changes and regenerates, and mounts a webserver at http://localhost:4000</span>
</span></code></pre></td></tr></table></div></figure></div></notextile></p>
<p>其中 <code>rake generate</code> 是将文章和页面生成到 <code>public</code> 目录中，后面我们才能发布我们的改动。<br />
<code>rake preview</code> 会在本地4000端口起一个网站服务器, 我们访问 <code>http://localhost:4000</code> 则可以看到自己的博客。还有一点是它会监听 <code>source</code> 和 <code>sass</code> 的改动，并重新生成文件，也就是说我们无需重启服务器就可以预览最新的文章。</p>
<p><strong>发布</strong><br />
同上文。</p>
<p><strong>更新octopress</strong></p>
<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>upgrade octopress  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git pull octopress master     <span class="c"># Get the latest Octopress</span>
</span><span class='line'>bundle install                <span class="c"># Keep gems updated</span>
</span><span class='line'>rake update_source            <span class="c"># update the template&#39;s source</span>
</span><span class='line'>rake update_style             <span class="c"># update the template&#39;s style</span>
</span></code></pre></td></tr></table></div></figure></div></notextile></p>
<p>更多请参考 <a href="http://octopress.org/docs/blogging/">官方文档</a> 。</p>
<p><strong>textile语法参考</strong><br />
考虑使用textile来写blog, 可以从很多github上的repo中来学习。参考 <a href="https://github.com/mojombo/jekyll/wiki/sites">github上挂的Jekyll的站点</a> , 或者参考 <a href="http://redcloth.org/hobix.com/textile/">相关手册</a> 。 注意文件后缀名不要 <strong>拼错</strong> , 否则无法渲染。 使用过程中感觉textile对于 <strong>空格要求比较严格</strong> , 该 <strong>留空格</strong> 的地方还得留一下, 另外段落之间也最好 <strong>留一个空行</strong> 。 另外发现textile的一些标签不是非常好用, 还得自己做尝试才能得到预期效果。 当然你也可以考虑直接使用 <a href="http://wowubuntu.com/markdown/">markdown</a> 。</p>
<h3><strong>安装补充</strong></h3>
<p>这边主要想说一下我所遇到的问题，当然不是所有人都会遇到，仅限于比较悲剧的人来说。</p>
<p><strong>GemFile</strong><br />
把源改成http://ruby.taobao.org, 据说会比较快, 具体我这边就是讲 <code>gem</code> 和 <code>GemFile</code> 稍微改了下。</p>
<p><strong>ruby blows up with gem dependency</strong><br />
参考 <a href="http://stackoverflow.com/questions/4262616/ruby-1-9-2-blows-up-with-json-gem-dependency">这里</a> , 重装一下ruby并升级一下:</p>
<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>reinstall ruby  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rvm uninstall 1.9.2
</span><span class='line'>gem update --system;
</span><span class='line'>gem pristine --all
</span></code></pre></td></tr></table></div></figure></div></notextile></p>
<p><strong>rubypython 调用到libpython2.&#215;.so失败</strong></p>
<p>由于我先前是用pythonbrew来安装python的，装了python2.7, 本机自带了一个python2.4。 我将pythonbrew关掉, 就ok了，未深究。</p>
<p><strong>ruby环境安装不全</strong><br />
通过 <code>rvm requirements</code> 查看一下需要预先安装什么，然后装好再重装ruby= =</p>
<p><strong>rdiscount fail to generate</strong><br />
据说 <code>rdiscount</code> 会快一些, 这里重装一下就好了。。</p>
<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>reinstall rdiscount  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>gem uninstall rdiscount
</span><span class='line'>gem install rdiscount
</span></code></pre></td></tr></table></div></figure></div></notextile></p>
<p><strong>deploy时拷贝swp/swo文件失败</strong><br />
简单在deploy时忽略swp,swo文件, 在Rakefile中修改:</p>
<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>modify rakefile  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'>  <span class="no">FileList</span><span class="o">[</span><span class="s2">&quot;</span><span class="si">#{</span><span class="n">args</span><span class="o">.</span><span class="n">source</span><span class="si">}</span><span class="s2">/**/.*&quot;</span><span class="o">].</span><span class="n">exclude</span><span class="p">(</span><span class="s2">&quot;**/.&quot;</span><span class="p">,</span> <span class="s2">&quot;**/..&quot;</span><span class="p">,</span> <span class="s2">&quot;**/.DS_Store&quot;</span><span class="p">,</span> <span class="s2">&quot;**/._*&quot;</span><span class="p">,</span> <span class="s1">&#39;**/.*.swp&#39;</span><span class="p">,</span> <span class="s1">&#39;**/.*.swo&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">file</span><span class="o">|</span>
</span></code></pre></td></tr></table></div></figure></div></notextile></p>
<p><strong>异地重新clone一份blog的时候deploy失败</strong><br />
参考 <a href="https://github.com/imathis/octopress/issues/412">这个issue</a> ，看起来重新clone的时候还需要再次执行一边 <code>rake setup_github_pages</code> 才行。</p>
<hr />
<h3 style="vertical-align:middle;"><strong>附录</strong></h3>
<p><a href="http://octopress.org/docs/setup/">Octopress Setup</a><br />
<a href="http://lyhdev.com/note:octopress">Octopress: a blogging framework for hackers</a><br />
<a href="http://www.yangzhiping.com/tech/octopress.html">Ruby开源项目介绍(1):octopress&#8212;像黑客一样写博客</a><br />
<a href="http://mrzhang.me/blog/blog-equals-github-plus-octopress.html">Blog = GitHub + Octopress</a><br />
<a href="http://www.yangzhiping.com/tech/github.html">如何高效地使用GitHub</a><br />
<a href="http://tom.preston-werner.com/2008/11/17/blogging-like-a-hacker.html">Blogging Like a Hacker</a></p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/03/06/a-little-test/">A Little Test</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-03-06T07:24:00+08:00" pubdate data-updated="true">Mar 6<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>hello <br />
h2. hello<br />
h3. hello</h1>
<ul>
	<li>affsffe</li>
	<li>fsfewfewffe
	<ul>
		<li>wwwwwwwww</li>
	</ul></li>
</ul></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/03/05/texttile-example/">Textile Exmpale</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-03-05T23:04:00+08:00" pubdate data-updated="true">Mar 5<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span> (test.js)</span> <a href='/downloads/code/test.js'>download</a></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm">sample javascript from xui</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'>
</span><span class='line'><span class="kd">var</span> <span class="kc">undefined</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">xui</span><span class="p">,</span>
</span><span class='line'>    <span class="nb">window</span>     <span class="o">=</span> <span class="k">this</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">string</span>     <span class="o">=</span> <span class="k">new</span> <span class="nb">String</span><span class="p">(</span><span class="s1">&#39;string&#39;</span><span class="p">),</span>
</span><span class='line'>    <span class="nb">document</span>   <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nb">document</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">simpleExpr</span> <span class="o">=</span> <span class="sr">/^#?([\w-]+)$/</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">idExpr</span>     <span class="o">=</span> <span class="sr">/^#/</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">tagExpr</span>    <span class="o">=</span> <span class="sr">/&lt;([\w:]+)/</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">slice</span>      <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="p">[].</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="p">};</span>
</span><span class='line'>    <span class="k">try</span> <span class="p">{</span> <span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">slice</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nx">nodeType</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'>    <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span> <span class="nx">slice</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span> <span class="kd">var</span> <span class="nx">ret</span><span class="o">=</span><span class="p">[];</span> <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">e</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
</span><span class='line'>        <span class="nx">ret</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span> <span class="k">return</span> <span class="nx">ret</span><span class="p">;</span> <span class="p">};</span> <span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="nb">window</span><span class="p">.</span><span class="nx">x$</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">xui</span> <span class="o">=</span> <span class="nx">xui</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">q</span><span class="p">,</span> <span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="k">new</span> <span class="nx">xui</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">q</span><span class="p">,</span> <span class="nx">context</span><span class="p">);</span>
</span><span class='line'><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure></div><br />
</notextile></p>
<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Here&#8217;s an example .rvmrc file.  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">rvm</span> <span class="n">ruby</span><span class="o">-</span><span class="mi">1</span><span class="o">.</span><span class="mi">8</span><span class="o">.</span><span class="mi">6</span> <span class="c1"># ZOMG, seriously? We still use this version?</span>
</span></code></pre></td></tr></table></div></figure></div></notextile></p>
<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>install rvm  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>bash -s stable &lt; &lt;<span class="o">(</span>curl -s https://raw.github.com/wayneeseguin/rvm/master/binscripts/rvm-installer<span class="o">)</span>
</span></code></pre></td></tr></table></div></figure></div></notextile></p>
<div>
  <pre>
    <code class='bash'>bash -s stable &lt; &lt;(curl -s https://raw.github.com/wayneeseguin/rvm/master/binscripts/rvm-installer)</code>
  </pre>
</div>

<pre>
<code>
echo '[[ -s "$HOME/.rvm/scripts/rvm" ]] &amp;&amp; . "$HOME/.rvm/scripts/rvm" # Load RVM function' &gt;&gt; ~/.bash_profile
source ~/.bash_profile
# If using Zsh do this instead
echo '[[ -s $HOME/.rvm/scripts/rvm ]] &amp;&amp; source $HOME/.rvm/scripts/rvm' &gt;&gt; ~/.zshrc
source ~/.zshrc
</code>
</pre>
<div>
<pre>
<code class='bash'>ssh desktop -D 8080 desktop</code>
</pre>
</div>
<p><code>
ssh desktop -D 8080 desktop
</code></p>
<pre>
<code>
ssh desktop -D 8080 desktop
</code>
</pre>
<p>hello <code>rsync</code></p>
<pre>
from="10.1.1.1",command="/home/remoteuser/command" ssh-dss AAAA...
</pre>
<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='coffeescript'><span class='line'><span class="nv">_Tweets_ = </span><span class="mi">1</span>
</span><span class='line'>
</span><span class='line'><span class="nv">module.exports = </span><span class="nx">Tweets</span>
</span></code></pre></td></tr></table></div></figure></div><br />
</notextile></p>
<p style="text-align:center;"><img src="http://gitready.com/images/branches.png" alt="" /></p>
<ul>
	<li>Separate paragraphs with two newlines.</li>
	<li>Use one newline only if you need a <br> tag, otherwise, no newlines inside the paragraph.</li>
	<li>When creating a new page, don’t forget the <span class="caps">YAML</span> premable at the top (Jekyll needs the page title and layout).</li>
	<li>The layout uses H1 to render the page title; only use H2 through H4 for the page content.</li>
	<li>Use H2 headers for the major page sections. Give each H2 header a unique ID so the table of contents can link to it.</li>
	<li>Separating sentences with two spaces, just a convenience when editing in a text editor using monospaced fonts.</li>
	<li>If in doubt, ask.</li>
</ul>
<p><img src="/images/octopress_logo.png"></p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/03/05/md-test/">Hello</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-03-05T22:56:00+08:00" pubdate data-updated="true">Mar 5<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><blockquote><p>This is the first level of quoting.</p>

<blockquote><p>This is nested blockquote.</p></blockquote>

<p>Back to the first level.</p></blockquote>

<figure class='code'><figcaption><span> (test.js)</span> <a href='/downloads/code/test.js'>download</a></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm">sample javascript from xui</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'>
</span><span class='line'><span class="kd">var</span> <span class="kc">undefined</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">xui</span><span class="p">,</span>
</span><span class='line'>    <span class="nb">window</span>     <span class="o">=</span> <span class="k">this</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">string</span>     <span class="o">=</span> <span class="k">new</span> <span class="nb">String</span><span class="p">(</span><span class="s1">&#39;string&#39;</span><span class="p">),</span>
</span><span class='line'>    <span class="nb">document</span>   <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nb">document</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">simpleExpr</span> <span class="o">=</span> <span class="sr">/^#?([\w-]+)$/</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">idExpr</span>     <span class="o">=</span> <span class="sr">/^#/</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">tagExpr</span>    <span class="o">=</span> <span class="sr">/&lt;([\w:]+)/</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">slice</span>      <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="p">[].</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="p">};</span>
</span><span class='line'>    <span class="k">try</span> <span class="p">{</span> <span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">slice</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nx">nodeType</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'>    <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span> <span class="nx">slice</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span> <span class="kd">var</span> <span class="nx">ret</span><span class="o">=</span><span class="p">[];</span> <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">e</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
</span><span class='line'>        <span class="nx">ret</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span> <span class="k">return</span> <span class="nx">ret</span><span class="p">;</span> <span class="p">};</span> <span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="nb">window</span><span class="p">.</span><span class="nx">x$</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">xui</span> <span class="o">=</span> <span class="nx">xui</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">q</span><span class="p">,</span> <span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="k">new</span> <span class="nx">xui</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">q</span><span class="p">,</span> <span class="nx">context</span><span class="p">);</span>
</span><span class='line'><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>




<div>
  <pre>
    <code class='bash'>rake generate
rake deploy</code>
  </pre>
</div>



</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Categories</h1>
  <ul id="categories">
    <li class='category'><a href='/blog/categories/algorithm/'>algorithm (1)</a></li>
<li class='category'><a href='/blog/categories/blog/'>blog (1)</a></li>
<li class='category'><a href='/blog/categories/contest/'>contest (1)</a></li>
<li class='category'><a href='/blog/categories/hive/'>hive (3)</a></li>
<li class='category'><a href='/blog/categories/programming/'>programming (2)</a></li>
<li class='category'><a href='/blog/categories/sql/'>sql (1)</a></li>
<li class='category'><a href='/blog/categories/thoughts/'>thoughts (1)</a></li>

  </ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/04/15/keep-updating-your-cv/">keep updating your cv</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/04/04/query-evolution/">query evolution</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/01/09/create-a-python-package/">create a python package</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/12/02/open-hive/">open hive</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/09/19/hive-compile-and-apply-patch/">hive compile and apply patch</a>
      </li>
    
  </ul>
</section>
<section class="friend-link">
  <h1>Links</h1>
  <ul>
    <li>
      <a href="http://panweizeng.com/">增哥</a>
    </li>
    <li>
      <a href="http://http://shangchun.net/">春哥</a>
    </li>
    <li>
      <a href="http://chenzongzhi.info/">志哥</a>
    </li>
    <li>
      <a href="http://davidzai.blog.163.com/blog">3xian</a>
    </li>
    <li>
      <a href="http://heliang.me/blog">Roba</a>
    </li>
  </ul>
  <br/>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/code6">@code6</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'code6',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("wzc1989", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/wzc1989" class="twitter-follow-button" data-show-count="false">Follow @wzc1989</a>
  
</section>



<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/104473212256457667839?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Code6 -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'code6';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
